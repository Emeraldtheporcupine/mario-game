namespace SpriteKind {
    export const Tube = SpriteKind.create()
    export const Block = SpriteKind.create()
    export const Forterss = SpriteKind.create()
}
scene.onHitWall(SpriteKind.Player, function (sprite, location) {
    if (Jumping < 1 && ((controller.right.isPressed() && controller.left.isPressed()) == false && Look_R > 0)) {
        Jumping = 0
        Mario.setImage(assets.image`Mario`)
    } else if (Jumping < 1 && ((controller.right.isPressed() && controller.left.isPressed()) == false && Look_L > 0)) {
        Jumping = 0
        Mario.setImage(assets.image`Mario L`)
    } else if (false) {
    	
    } else if (false) {
    	
    }
})
function Die () {
    if (Dead < 1) {
        Dead += 1
        animation.runImageAnimation(
        Mario,
        assets.animation`Mario Dead`,
        200,
        false
        )
        for (let index = 0; index < 50; index++) {
            Mario.y += 1
        }
        for (let index = 0; index < 50; index++) {
            Mario.y += -1
        }
        sprites.destroy(Mario, effects.none, 0)
        Start()
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Tube, function (sprite, otherSprite) {
    if (Mario.tilemapLocation() == tiles.getTileLocation(67, 11) && controller.down.isPressed()) {
        NextLevel()
    } else {
    	
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    Jumping = 1
    if (Mario.vy == 0) {
        Mario.vy = -100
    }
    if (Look_R > 0) {
        animation.runImageAnimation(
        Mario,
        assets.animation`Mario Jump`,
        200,
        false
        )
    } else {
        animation.runImageAnimation(
        Mario,
        assets.animation`Mario Jump L`,
        200,
        false
        )
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile4`, function (sprite, location) {
    Die()
})
function Start () {
    Jumping = 0
    info.setScore(0)
    Dead = 0
    music.stopAllSounds()
    scene.setBackgroundImage(img`
        8888888888888888888811111111111111111111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888811111111111111111111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        88888888888888888881111cccccccc111111111111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        888888888888888888111ccc1111111111111111111111111111188888111111111888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888881111111111111111111111111111111111118811111111111111888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888881111111111111111cc11111111111111111111c1111111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        88888888888888888811111111111111111cc111111111111111111cc1111111111111111888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888881111111111111111111c1111111111111111cc11111111111111111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        88888888888888888811111111111111111111c111111111111111c111111111111111111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        88888888888888888811111111111111111111cc11111111111111c111111111111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        888888888888888888111111111111111111111c11111111111111c111111111111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        888888888888888888111111111111111111111c11111111111111c1111111111cccc1111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        888888888888888888111111111111111111111111111111111111c111111111cc1111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        888888888888888888111111111111111111111111111111111111c11111111cc11111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        888888888888888888811111111111111111111111111111111111cc1111111c111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888811111111111111111111111111111111111c1111111c111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888811111111111111111111111111111111111c11111111111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888881111111111111111111111111111111111111111111111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888111111111111111111111111111111111111111111111111111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888881111111111111111111111111111111111111111111111111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888111111111111111111111111111111111111111111111111888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888111111111111118888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888111111111888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888866666666666666666666688888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888666666666666666666666666666668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888666666666666666666666666666666666668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888866666666666666666666666666666666666666688888888888888888888888888888888888888888887777777777777777777778888888888888888888888888888888888
        8888888888888888888866666666666666666666666666666666666666666666688888888888888888888888888888888888877777777777777777777777777777888888888888888888888888888888
        8888888888888888886666666666666666666666666666666666666666666666666888888888888888888888888888888877777777777777777777777777777777777888888888888888888888888888
        8888888888888888866666666666666666666666666666666666666666666666666688888888888888888888888888877777777777777777777777777777777777777777888888888888888888888888
        8888888888888886666666666666666666666666666666666666666666666666666666888888888888888888888887777777777777777777777777777777777777777777778888888888888888888888
        8888888888888866666666666666666666666666666666666666666666666666666666688888888888888888888777777777777777777777777777777777777777777777777788888888888888888888
        8888888888886666666666666666666666666666666666666666666666666666666666666888888888888888877777777777777777777777777777777777777777777777777777888888888888888888
        8888888888866666666666666666666666666666666666666666666666666666666666666688888888888888777777777777777777777777777777777777777777777777777777788888888888888888
        8888888888666666666666666666666666666666666666666666666666666666666666666668888888888877777777777777777777777777777777777777777777777777777777777888888888888888
        8888888866666666666666666666666666666666666666666666666666666666666666666666688888888777777777777777777777777777777777777777777777777777777777777788888888888888
        8888888666666666666666666666666666666666666666666666666666666666666666666666668888887777777777777777777777777777777777777777777777777777777777777778888888888888
        8888886666666666666666666666666666666666666666666666666666666666666666666666666888777777777777777777777777777777777777777777777777777777777777777777788888888888
        8888866666666666666666666666666666666666666666666666666666666666666666666666666687777777777777777777777777777777777777777777777777777777777777777777778888888888
        8888666666666666666666666666666666666666666666666666666666666666666666666666666677777777777777777777777777777777777777777777777777777777777777777777777888888888
        8888666666666666666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777788888888
        8886666666666666666666666666666666666666666666666666666666666666666666666666667777777777777777777777777777777777777777777777777777777777777777777777777778888888
        8866666666666666666666666666666666666666666666666666666666666666666666666666677777777777777777777777777777777777777777777777777777777777777777777777777777888888
        8666666666666666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777788888
        8666666666666666666666666666666666666666666666666666666666666666666666666667777777777777777777777777777777777777777777777777777777777777777777777777777777778888
        6666666666666666ff66666666666666ff666666666666666666666666666666666666666667777777777777777777777777777777777777777777fff77777777777777777ff77777777777777778888
        666666666666666ffff666666666666ffff6666666666666666666666666666666666666667777777777777777777777777777777777777777777fffff777777777777777ffff7777777777777777888
        666666666666666ffff666666666666ffff666666666666666666666666666666666666667777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777788
        666666666666666ffff666666666666ffff666666666666666666666666666666666666677777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777778
        666666666666666ffff666666666666ffff666666666666666666666666666666666666677777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777778
        666666666666666ffff666666666666ffff666666666666666666666666666666666666777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666ffff666666666666ffff666666666666666666666666666666666667777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666ffff666666666666ffff666666666666666666666666666666666667777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666ffff666666666666ffff666666666666666666666666666666666677777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666ffff666666666666ffff666666666666666666666666666666666677777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666ffff666666666666ffff666666666666666666666666666666666777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666ffff666666666666ffff666666666666666666666666666666666777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666ffff666666666666ffff666666666666666666666666666666667777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        6666666666666666ff66666666666666ff6666666666666666666666666666666667777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666667777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666677777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666677777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666677777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666667777777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        66666666666666666666666666666666666666666666666666666666666666667777777777777777777777777777777777777777777777777777fffffff7777777777777ffffff777777777777777777
        666666666666666666666666666666666666666666666666666666666666666677777777777777777777777777777777777777777777777777777fffff777777777777777ffff7777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777fff77777777777777777ff77777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        6666666666666666666666666666666666666666666666666666666666666666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        `)
    tiles.setCurrentTilemap(tilemap`level2`)
    for (let value of tiles.getTilesByType(assets.tile`myTile3`)) {
        _Block = sprites.create(assets.image`Q-Block`, SpriteKind.Block)
        tiles.placeOnTile(_Block, value)
        tiles.setTileAt(value, assets.tile`myTile5`)
        animation.runImageAnimation(
        _Block,
        assets.animation`Q-Block Shine`,
        100,
        true
        )
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile1`)) {
        Tube = sprites.create(assets.image`Tube`, SpriteKind.Tube)
        tiles.placeOnTile(Tube, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile0`)) {
        coins = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Food)
        tiles.placeOnTile(coins, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
        animation.runImageAnimation(
        coins,
        assets.animation`coin`,
        75,
        true
        )
    }
    Castle = sprites.create(assets.image`Castle`, SpriteKind.Forterss)
    tiles.placeOnTile(Castle, tiles.getTileLocation(158, 13))
    Mario = sprites.create(assets.image`Mario`, SpriteKind.Player)
    scene.cameraFollowSprite(Mario)
    controller.moveSprite(Mario, 75, 0)
    Mario.ay = 200
    tiles.placeOnTile(Mario, tiles.getTileLocation(0, 14))
    music.play(music.createSong(assets.song`Theme`), music.PlaybackMode.LoopingInBackground)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    Look_R = 0
    Look_L = 1
    animation.runImageAnimation(
    Mario,
    assets.animation`Mario Walk L`,
    200,
    true
    )
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    Look_R = 1
    Look_L = 0
    animation.runImageAnimation(
    Mario,
    assets.animation`Mario Walk`,
    200,
    true
    )
})
function NextLevel () {
    tiles.setCurrentTilemap(tilemap`level4`)
    tiles.placeOnTile(Mario, tiles.getTileLocation(0, 14))
    scene.cameraFollowSprite(Mario)
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
	
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    sprites.destroy(otherSprite, effects.none, 0)
    info.changeScoreBy(1)
    music.play(music.melodyPlayable(music.baDing), music.PlaybackMode.InBackground)
})
let Castle: Sprite = null
let coins: Sprite = null
let Tube: Sprite = null
let _Block: Sprite = null
let Dead = 0
let Jumping = 0
let Mario: Sprite = null
let Look_L = 0
let Look_R = 0
Look_R = 1
Look_L = 0
Start()
scaling.scaleByPixels(Mario, -4, ScaleDirection.Uniformly, ScaleAnchor.Bottom)
